/**
 * Copyright (c) 2012 Bertrand Chevrier
 * jQueryRemovableArea - v0.1.0 
 * @author Bertrand Chevrier <chevrier.bertrand@gmail.com>
 * @license GPL  <http://www.gnu.org/licenses/gpl-3.0.txt>
 */

(function(e){"use strict";var t={_opts:{label:"Supprimer",img:"imgs/delete.png",warning:"Voulez-vous supprimer cet élément?",hoverClass:"half-opac"},_ctrlClass:"removable-ctrl",_init:function(n){var r=e.extend(!0,{},t._opts,n),i=t._ctrlClass;return this.each(function(){var t=e(this);t.css("position")!="relative"&&t.css("position","relative");var n=e("<img class='"+i+"' src='"+r.img+"' alt='"+r.label+"' title='"+r.label+"'>");n.css({display:"none",position:"absolute",right:"5px",top:"5px",cursor:"pointer"}).hover(function(){e(this).addClass(r.hoverClass)},function(){e(this).removeClass(r.hoverClass)}),t.append(n).mouseover(function(){e("."+i,this).show()}).mouseout(function(){e("."+i,this).hide()}),n.click(function(){if(r.warning===!1||window.confirm(r.warning))t.trigger("removed.removablearea"),t.remove()}),t.trigger("init.removablearea")})},destroy:function(){this.each(function(){e("."+t._ctrlClass,e(this)).remove()})}};e.fn.removableArea=function(n){if(t[n]){if(!/^_/.test(n))return t[n].apply(this,Array.prototype.slice.call(arguments,1));e.error("Trying to call a private method "+n+" on jQuery.pluginName")}else{if(typeof n=="object"||!n)return t._init.apply(this,arguments);e.error("Method "+n+" does not exist on jQuery.removableArea")}}})(jQuery);